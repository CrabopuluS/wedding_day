const CONFIG={couple:"\u0415\u043B\u0438\u0437\u0430\u0432\u0435\u0442\u0430 \u0438 \u0420\u0443\u0441\u043B\u0430\u043D",invite:"\u041C\u044B \u043D\u0430\u0447\u0438\u043D\u0430\u0435\u043C \u043D\u043E\u0432\u0443\u044E \u0433\u043B\u0430\u0432\u0443 \u043D\u0430\u0448\u0435\u0439 \u0438\u0441\u0442\u043E\u0440\u0438\u0438 \u0438 \u0431\u0443\u0434\u0435\u043C \u0441\u0447\u0430\u0441\u0442\u043B\u0438\u0432\u044B, \u0435\u0441\u043B\u0438 \u0432\u044B \u0441\u0442\u0430\u043D\u0435\u0442\u0435 \u0435\u0451 \u0447\u0430\u0441\u0442\u044C\u044E.",dateISO:"2025-08-30",dateHero:"30/08/2025",timeMain:"15:00",timeStart:"13:50",timeCeremony:"14:30",timezone:"Europe/Moscow",timeEnd:"16:00",venueName:"\u041C\u043E\u0441\u043A\u0432\u0430-\u0441\u0438\u0442\u0438, \u0411\u0430\u0448\u043D\u044F \u041E\u041A\u041E, 84 \u044D\u0442\u0430\u0436 354, \u0440\u0435\u0441\u0442\u043E\u0440\u0430\u043D \xABBirds\xBB",address:"1-\u0439 \u041A\u0440\u0430\u0441\u043D\u043E\u0433\u0432\u0430\u0440\u0434\u0435\u0439\u0441\u043A\u0438\u0439 \u043F\u0440-\u0434, 21 \u0441\u0442\u0440. 2, 84 \u044D\u0442\u0430\u0436",mapsUrl:"",apiUrl:"https://script.google.com/macros/s/AKfycbyyEfM9vGn4z2Dcpl-DZjyouP57T-ZmwIBMPlTQU-sA_lVWw6hm18hNbPWqeulOpu9_fg/exec"},WISHLIST=[{id:"aerogrill",title:"\u0410\u044D\u0440\u043E\u0433\u0440\u0438\u043B\u044C",link:"https://www.wildberries.ru/catalog/252986314/detail.aspx?size=394996892",image:"image/presents/\u0430\u044D\u0440\u043E\u0433\u0440\u0438\u043B\u044C.png"},{id:"tableware",title:"\u0421\u0442\u043E\u043B\u043E\u0432\u044B\u0439 \u0441\u0435\u0440\u0432\u0438\u0437",link:"https://www.wildberries.ru/catalog/212966249/detail.aspx?size=340398755",image:"image/presents/\u0441\u0442\u043E\u043B\u043E\u0432\u044B\u0439_\u0441\u0435\u0440\u0432\u0438\u0437.png"},{id:"bedding1",title:"\u041F\u043E\u0441\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u0431\u0435\u043B\u044C\u0451 1",link:"https://www.wildberries.ru/catalog/275416950/detail.aspx?size=424599294",image:"image/presents/\u043F\u043E\u0441\u0442\u0435\u043B\u044C\u043D\u043E\u0435_\u0431\u0435\u043B\u044C\u0451.png"},{id:"bedding2",title:"\u041F\u043E\u0441\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u0431\u0435\u043B\u044C\u0451 2",link:"https://www.wildberries.ru/catalog/232577407/detail.aspx?size=366852213",image:"image/presents/\u043F\u043E\u0441\u0442\u0435\u043B\u044C\u043D\u043E\u0435_\u0431\u0435\u043B\u044C\u0451_2.png"},{id:"wok_pan",title:'\u0421\u043A\u043E\u0432\u043E\u0440\u043E\u0434\u0430 "\u0412\u043E\u043A"',link:"https://www.ozon.ru/product/skovoroda-vok-chugunnaya-so-semnoy-derevyannoy-ruchkoy-30-sm-dlya-vseh-vidov-plit-206721649/?at=x6tPnDD59HDVNBzNh4VRO9Dhk4mYvRU5QVv3WIPkWwGL",image:"image/presents/\u0441\u043A\u043E\u0432\u043E\u0440\u043E\u0434\u0430_\u0432\u043E\u043A.png"},{id:"alisa_midi",title:"\u041A\u043E\u043B\u043E\u043D\u043A\u0430 \u0410\u043B\u0438\u0441\u0430 Midi",link:"https://www.dns-shop.ru/product/e498e4397a02ed20/umnaa-kolonka-andeks-stancia-midi-cernyj/",image:"image/presents/\u043A\u043E\u043B\u043E\u043D\u043A\u0430_\u0430\u043B\u0438\u0441\u0430.png"},{id:"bosch_meat_grinder",title:"\u041C\u044F\u0441\u043E\u0440\u0443\u0431\u043A\u0430 Bosch",link:"https://www.dns-shop.ru/product/f93d6a66afe73361/masorubka-elektriceskaa-bosch-mfw-68640-cernyj/",image:"image/presents/\u043C\u044F\u0441\u043E\u0440\u0443\u0431\u043A\u0430.png"},{id:"bath_towels",title:"\u041F\u043E\u043B\u043E\u0442\u0435\u043D\u0446\u0430 \u0431\u0430\u043D\u043D\u044B\u0435",link:"https://www.wildberries.ru/catalog/211848970/detail.aspx?targetUrl=SG",image:"image/presents/\u043D\u0430\u0431\u043E\u0440_\u0431\u0430\u043D\u043D\u044B\u0445_\u043F\u043E\u043B\u043E\u0442\u0435\u043D\u0435\u0446.png"},{id:"air_purifier",title:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u0435\u043B\u044C \u0432\u043E\u0437\u0434\u0443\u0445\u0430",link:"https://www.dns-shop.ru/product/65c8dce4e8342ff2/ocistitel-vozduha-smartmi-air-purifier-p1-zmkqjhqp12-seryj/",image:"image/presents/\u043E\u0447\u0438\u0441\u0442\u0438\u0442\u0435\u043B\u044C_\u0432\u043E\u0437\u0434\u0443\u0445\u0430.png"},{id:"electric_grill",title:"\u042D\u043B\u0435\u043A\u0442\u0440\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0433\u0440\u0438\u043B\u044C",link:"https://www.dns-shop.ru/product/ff7f24c6dd8f1b80/gril-dexp-mgl-2000-cernyj/",image:"image/presents/\u044D\u043B\u0435\u043A\u0442\u0440\u0438\u0447\u0435\u0441\u043A\u0438\u0439_\u0433\u0440\u0438\u043B\u044C.png"},{id:"toaster",title:"\u0422\u043E\u0441\u0442\u0435\u0440",link:"https://www.dns-shop.ru/product/563b26e85192aef8/toster-tefal-ultimate-digital-control-panel-tt3228e0-cernyj/",image:"image/presents/\u0442\u043E\u0441\u0442\u0435\u0440.png"},{id:"cutlery_set",title:"\u041D\u0430\u0431\u043E\u0440 \u0441\u0442\u043E\u043B\u043E\u0432\u044B\u0445 \u043F\u0440\u0438\u0431\u043E\u0440\u043E\u0432",link:"https://www.ozon.ru/product/nabor-stolovyh-priborov-serebro-1643902020/?at=lRt60mDy5cmBZq97hP6ZKRqtlkmP9vuv3M2X1U0z74D7",image:"image/presents/\u043D\u0430\u0431\u043E\u0440_\u0441\u0442\u043E\u043B\u043E\u0432\u044B\u0445_\u043F\u0440\u0438\u0431\u043E\u0440\u043E\u0432.png"},{id:"hand_blender",title:"\u0411\u043B\u0435\u043D\u0434\u0435\u0440 \u043F\u043E\u0433\u0440\u0443\u0436\u043D\u043E\u0439",link:"https://www.dns-shop.ru/product/41d914c74ebe3330/blender-pogruznoj-polaris-phb-1382l-silent-serebristyj/",image:"image/presents/\u0431\u043B\u0435\u043D\u0434\u0435\u0440_\u043F\u043E\u0433\u0440\u0443\u0436\u043D\u043E\u0439.png"}];async function apiList(){const e=await fetch(`${CONFIG.apiUrl}?action=list`,{method:"GET"});if(!e.ok)throw new Error("Network response was not ok");return e.json()}async function apiReserve(e,t){const o=new URLSearchParams({action:"reserve",item_id:e,name:t}),n=await fetch(CONFIG.apiUrl,{method:"POST",body:o});if(!n.ok)throw new Error("Network response was not ok");return n.json()}async function apiCancel(e,t){const o=new URLSearchParams({action:"cancel",item_id:e,token:t}),n=await fetch(CONFIG.apiUrl,{method:"POST",body:o});if(!n.ok)throw new Error("Network response was not ok");return n.json()}const dt=new Date(`${CONFIG.dateISO}T${CONFIG.timeStart||"12:00"}:00+03:00`);function updateMetaUrls(){const e=window.location.href.split("#")[0],t=document.querySelector('link[rel="canonical"]');t&&t.setAttribute("href",e);const o=document.querySelector('meta[property="og:url"]');o&&o.setAttribute("content",e);const n=document.querySelector('meta[property="og:image"]');if(n){const r=new URL(n.getAttribute("content"),e);n.setAttribute("content",r.toString())}}function hydrateBasics(){document.getElementById("coupleNames").textContent=CONFIG.couple,document.getElementById("footerNames").textContent=CONFIG.couple;const e=document.getElementById("heroInvite");e&&(e.textContent=CONFIG.invite),document.getElementById("dateText").textContent=dt.toLocaleDateString("ru-RU");const t=document.getElementById("dateTextHero");t&&(t.textContent=CONFIG.dateHero||dt.toLocaleDateString("ru-RU")),document.getElementById("mainTime").textContent=CONFIG.timeMain,document.getElementById("startTime").textContent=CONFIG.timeStart,document.getElementById("ceremonyTime").textContent=CONFIG.timeCeremony;const o=document.getElementById("tStart");o&&(o.textContent=CONFIG.timeStart);const n=document.getElementById("tCeremony");n&&(n.textContent=CONFIG.timeCeremony);const r=document.getElementById("tMain");r&&(r.textContent=CONFIG.timeMain);const i=document.getElementById("tEnd");i&&(i.textContent=CONFIG.timeEnd),document.getElementById("venueName").textContent=CONFIG.venueName,document.getElementById("venueAddr").textContent=CONFIG.address;const c=document.getElementById("mapEmbed");c&&(c.innerHTML=`<iframe src="https://maps.google.com/maps?q=${encodeURIComponent(CONFIG.address)}&output=embed" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy"></iframe>`),document.title=`\u0421\u0432\u0430\u0434\u044C\u0431\u0430 \u2014 ${CONFIG.couple}`,updateMetaUrls()}let countdownTimer;function startCountdown(){const e=document.getElementById("countdown");if(!e)return;const t=new Date(`${CONFIG.dateISO}T${CONFIG.timeMain}:00+03:00`),o=e.querySelectorAll("#cd-days .digit"),n=e.querySelectorAll("#cd-hours .digit"),r=e.querySelectorAll("#cd-minutes .digit"),i=e.querySelectorAll("#cd-seconds .digit");function c(){const a=t-new Date;if(a<=0){e.style.display="none",clearInterval(countdownTimer);return}const d=String(Math.floor(a/864e5)).padStart(2,"0"),l=String(Math.floor(a%864e5/36e5)).padStart(2,"0"),m=String(Math.floor(a%36e5/6e4)).padStart(2,"0"),s=String(Math.floor(a%6e4/1e3)).padStart(2,"0");o[0].textContent=d[0],o[1].textContent=d[1],n[0].textContent=l[0],n[1].textContent=l[1],r[0].textContent=m[0],r[1].textContent=m[1],i[0].textContent=s[0],i[1].textContent=s[1]}c(),clearInterval(countdownTimer),countdownTimer=setInterval(c,1e3)}function downloadICS(){const e=CONFIG.timezone||"Europe/Moscow",t=u=>u.replace(/[-:]/g,""),o=u=>u.replace(/[\n,;]/g,h=>({"\n":"\\n",",":"\\,",";":"\\;"})[h]),n=`${t(CONFIG.dateISO)}T${t(CONFIG.timeMain)}00`,r=`${t(CONFIG.dateISO)}T${t(CONFIG.timeEnd)}00`,i=new Date().toISOString().replace(/[-:]/g,"").replace(/\.\d+Z/,"Z"),c=o(`\u0421\u0432\u0430\u0434\u044C\u0431\u0430: ${CONFIG.couple}`),a=o(`${CONFIG.venueName}, ${CONFIG.address}`),d=o(CONFIG.invite),l=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Wedding//Invitation//RU
X-WR-TIMEZONE:${e}
BEGIN:VEVENT
UID:${Date.now()}@wedding
DTSTAMP:${i}
DTSTART;TZID=${e}:${n}
DTEND;TZID=${e}:${r}
SUMMARY:${c}
LOCATION:${a}
DESCRIPTION:${d}
END:VEVENT
END:VCALENDAR`,m=new Blob([l],{type:"text/calendar"}),s=document.createElement("a");s.href=URL.createObjectURL(m),s.download="wedding.ics",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(s.href)}function mapUrl(){const e=encodeURIComponent(CONFIG.address),t=navigator.userAgent;return/iPad|iPhone|Mac/.test(t)?`http://maps.apple.com/?q=${e}`:/Android/.test(t)?`https://maps.google.com/?q=${e}`:CONFIG.mapsUrl||`https://yandex.ru/maps/?text=${e}`}function openMap(){window.open(mapUrl(),"_blank","noopener,noreferrer")}function copyAddress(){const e=`${CONFIG.venueName}, ${CONFIG.address}`;navigator.clipboard.writeText(e).then(()=>{const t=document.getElementById("copyMsg");t&&(t.textContent="\u0410\u0434\u0440\u0435\u0441 \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D",setTimeout(()=>{t.textContent=""},3e3))}).catch(()=>{alert("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0441\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0430\u0434\u0440\u0435\u0441")})}const grid=document.getElementById("wishGrid"),onlyFree=document.getElementById("onlyFree"),errorBanner=document.getElementById("wishError"),reserveDialog=document.getElementById("reserveDialog"),reserveForm=document.getElementById("reserveForm"),reserveName=document.getElementById("reserveName"),reserveCancel=document.getElementById("reserveCancel");let reserveItemId=null;const supportsDialog=typeof HTMLDialogElement=="function"&&typeof reserveDialog.showModal=="function";function openReserveDialog(){supportsDialog?reserveDialog.showModal():reserveDialog.classList.remove("hidden"),reserveName.focus()}function closeReserveDialog(){supportsDialog?reserveDialog.close():reserveDialog.classList.add("hidden")}supportsDialog||(reserveDialog.classList.add("modal-fallback","hidden"),document.addEventListener("keydown",e=>{e.key==="Escape"&&!reserveDialog.classList.contains("hidden")&&closeReserveDialog()})),onlyFree.checked=localStorage.getItem("onlyFree")==="1";function getToken(e){return localStorage.getItem("wish_token_"+e)||""}function setToken(e,t){localStorage.setItem("wish_token_"+e,t)}function clearToken(e){localStorage.removeItem("wish_token_"+e)}let SERVER_MAP={};async function fetchWishes(){try{const{ok:e,reservations:t}=await apiList();if(e){SERVER_MAP=t||{},errorBanner.classList.add("hidden");return}throw new Error("bad response")}catch(e){console.error("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0441\u043F\u0438\u0441\u043E\u043A \u0431\u0440\u043E\u043D\u0435\u0439",e),errorBanner.classList.remove("hidden");try{SERVER_MAP=(await fetch("./data/wishlist.json").then(o=>o.json())).reservations||{}}catch{SERVER_MAP={}}}}function isReserved(e){return!!SERVER_MAP[e]}function reservedName(e){return SERVER_MAP[e]||""}function escapeHtml(e){return(e||"").replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[t])}async function renderWishlist(){grid.innerHTML="";const e=document.createDocumentFragment();WISHLIST.forEach(()=>{const n=document.createElement("div");n.className="wish-card skeleton",n.style.height="calc(128px + var(--gap))",e.appendChild(n)}),grid.appendChild(e),await fetchWishes(),grid.innerHTML="";const t=WISHLIST.filter(n=>!(onlyFree.checked&&isReserved(n.id))),o=document.createDocumentFragment();for(const n of t){const r=isReserved(n.id),i=reservedName(n.id),c=r?`\u0417\u0430\u0431\u0440\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043E \u2014 ${escapeHtml(i)}`:"\u0421\u0432\u043E\u0431\u043E\u0434\u043D\u043E",a=!!getToken(n.id),d=document.createElement("div");d.className="wish-card"+(r?" wish-card--reserved":"");const l=/^https?:\/\//i.test(n.link||"")?n.link:"#",m=n.image?`<img src="${n.image}" alt="${escapeHtml(n.title)}" loading="lazy" width="128" height="128">`:"\u{1F381}",s=r?a?"\u0421\u043D\u044F\u0442\u044C \u0431\u0440\u043E\u043D\u044C":"\u0417\u0430\u0431\u0440\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043E":"\u0417\u0430\u0431\u0440\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u0442\u044C",u=r&&!a?"disabled":"";d.innerHTML=`
            <div class="wish-thumb" aria-hidden="true">${m}</div>
            <div class="wish-meta">
              <h4 class="wish-title" title="${escapeHtml(n.title)}">${escapeHtml(n.title)}</h4>
              <p class="wish-note">${escapeHtml(n.note||"")} ${n.price?"\u2022 "+escapeHtml(n.price):""}</p>
            </div>
            <div class="wish-actions">
                <a class="btn btn--ghost" href="${l}" target="_blank" rel="noopener noreferrer">\u0421\u043C\u043E\u0442\u0440\u0435\u0442\u044C</a>
              <span class="pill badge ${r?"reserved":"free"}">${c}</span>
              <button class="btn btn--primary" ${u} aria-pressed="${r}" data-id="${n.id}">
                ${s}
              </button>
            </div>`;const h=d.querySelector("button");h.disabled||h.addEventListener("click",async f=>{const p=f.currentTarget.getAttribute("data-id");if(!isReserved(p))reserveItemId=p,reserveName.value="",openReserveDialog();else{const w=getToken(p);if(!w){alert("\u0421\u043D\u044F\u0442\u044C \u0431\u0440\u043E\u043D\u044C \u043C\u043E\u0436\u043D\u043E \u0441 \u0442\u043E\u0433\u043E \u0436\u0435 \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430, \u0433\u0434\u0435 \u043E\u043D\u0430 \u043E\u0444\u043E\u0440\u043C\u043B\u044F\u043B\u0430\u0441\u044C, \u043B\u0438\u0431\u043E \u043D\u0430\u043F\u0438\u0448\u0438\u0442\u0435 \u043E\u0440\u0433\u0430\u043D\u0438\u0437\u0430\u0442\u043E\u0440\u0430\u043C.");return}const g=f.currentTarget;g.disabled=!0;const y=g.innerHTML;g.innerHTML='<span class="spinner" aria-hidden="true"></span>';const v=await apiCancel(p,w);if(!v||!v.ok){alert("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0441\u043D\u044F\u0442\u044C \u0431\u0440\u043E\u043D\u044C."),g.disabled=!1,g.innerHTML=y;return}clearToken(p),await renderWishlist()}}),o.appendChild(d)}if(!t.length){const n=document.createElement("div");n.className="card",n.textContent="\u041D\u0435\u0442 \u043F\u043E\u0437\u0438\u0446\u0438\u0439 \u043F\u043E \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u043E\u043C\u0443 \u0444\u0438\u043B\u044C\u0442\u0440\u0443.",o.appendChild(n)}grid.appendChild(o)}hydrateBasics(),startCountdown(),renderWishlist(),setInterval(renderWishlist,45e3),document.addEventListener("visibilitychange",()=>{document.hidden||(startCountdown(),renderWishlist())});const timelineEl=document.getElementById("timeline");timelineEl&&new IntersectionObserver((t,o)=>{t[0].isIntersecting&&(timelineEl.classList.add("animate"),o.disconnect())},{threshold:.2}).observe(timelineEl),document.getElementById("heroIcs").addEventListener("click",downloadICS),document.getElementById("mapBtn2").addEventListener("click",openMap),document.getElementById("copyAddr").addEventListener("click",copyAddress),onlyFree.addEventListener("change",()=>{localStorage.setItem("onlyFree",onlyFree.checked?"1":"0"),renderWishlist()}),reserveCancel.addEventListener("click",()=>closeReserveDialog()),reserveForm.addEventListener("submit",async e=>{e.preventDefault();const t=reserveName.value.trim();if(t.length<2){alert("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0443\u043A\u0430\u0436\u0438\u0442\u0435 \u0438\u043C\u044F (\u043D\u0435 \u043A\u043E\u0440\u043E\u0447\u0435 2 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432).");return}const o=reserveForm.querySelector('button[type="submit"]'),n=o.innerHTML;o.disabled=!0,reserveCancel.disabled=!0,o.innerHTML='<span class="spinner" aria-hidden="true"></span>';let r;try{r=await apiReserve(reserveItemId,t)}catch{r=null}if(o.disabled=!1,reserveCancel.disabled=!1,o.innerHTML=n,!r||!r.ok){alert(r&&r.error==="already_reserved"?"\u041F\u043E\u0434\u0430\u0440\u043E\u043A \u0443\u0436\u0435 \u0437\u0430\u0431\u0440\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D \u0434\u0440\u0443\u0433\u0438\u043C \u0433\u043E\u0441\u0442\u0435\u043C":"\u041E\u0448\u0438\u0431\u043A\u0430 \u0431\u0440\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.");return}setToken(reserveItemId,r.token),closeReserveDialog(),await renderWishlist()});const prefersReduced=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(!prefersReduced){document.querySelectorAll("section, footer").forEach(t=>t.setAttribute("data-reveal",""));const e=new IntersectionObserver((t,o)=>{t.forEach(n=>{n.isIntersecting&&(n.target.classList.add("is-visible"),o.unobserve(n.target))})},{threshold:.1});document.querySelectorAll("[data-reveal]").forEach(t=>e.observe(t))}const header=document.querySelector("header");window.addEventListener("scroll",()=>{window.scrollY>0?header.classList.add("scrolled"):header.classList.remove("scrolled")});const navLinks=document.querySelectorAll('.nav a[href^="#"]'),sections=Array.from(navLinks).map(e=>document.querySelector(e.getAttribute("href"))).filter(Boolean),navObserver=new IntersectionObserver(e=>{e.forEach(t=>{const o=document.querySelector(`.nav a[href="#${t.target.id}"]`);o&&(t.isIntersecting?o.classList.add("is-active"):o.classList.remove("is-active"))})},{rootMargin:"-50% 0px -50% 0px"});sections.forEach(e=>navObserver.observe(e));const nav=document.querySelector(".nav"),burger=document.getElementById("burger");burger?.addEventListener("click",()=>{const e=nav.classList.toggle("open");burger.setAttribute("aria-expanded",e?"true":"false")}),navLinks.forEach(e=>e.addEventListener("click",()=>{nav.classList.remove("open"),burger.setAttribute("aria-expanded","false")})),document.addEventListener("keydown",e=>{e.key==="Escape"&&(nav.classList.remove("open"),burger.setAttribute("aria-expanded","false"))});function setHeroHeight(){const e=document.querySelector(".hero"),t=document.querySelector("header");e&&t&&(e.style.minHeight=`calc(100vh - ${t.offsetHeight}px)`)}window.addEventListener("load",setHeroHeight),window.addEventListener("resize",setHeroHeight);
